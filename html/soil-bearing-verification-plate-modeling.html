<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-lang="pageTitle">Bearing Capacity Modeling & Plate Verification (v3.3 - LCP Optimized)</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="preconnect" href="https://cdn.jsdelivr.net">
    <link rel="preload" as="image" href="/img/groundbearingpressure-modeling.webp" fetchpriority="high">
    <meta name="description" content="Bilingual online calculator for ground bearing pressure analysis and structural steel plate verification (bending & punching shear) for heavy equipment. Based on EFFC/DFI guidance and IRC 37:2018 correlations.">
    <meta name="keywords" content="ground bearing capacity calculator, ground bearing pressure, steel plate verification, bore pile, foundation, geotechnical, civil engineering, EFFC, DFI, IRC 37 2018, working platform analysis, civil engineering calculator, CBR correlation">
    <meta name="author" content="simcalc.github.io">
    <meta name="robots" content="index, follow">

    <meta property="og:title" content="Bearing Capacity Modeling & Plate Verification (Bilingual)">
    <meta property="og:description" content="An interactive tool for civil engineers to verify the safety of heavy equipment working platforms.">
    <meta property="og:image" content="https://simcalc.github.io/img/ground-bearing-pressure-under-rig-tracks.webp">
    <meta property="og:url" content="https://simcalc.github.io/calc/ground-bearing-capacity-heavy-equipment">
    <meta property="og:type" content="website">
    <meta property="og:site_name" content="SimCalc">
    <meta property="og:locale" content="en_US">
    <meta property="og:locale:alternate" content="id_ID" />

    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Bearing Capacity Modeling & Plate Verification (Bilingual)">
    <meta name="twitter:description" content="An interactive tool for civil engineers to verify the safety of heavy equipment working platforms.">
    <meta name="twitter:image" content="https://simcalc.github.io/img/ground-bearing-pressure-under-rig-tracks.webp">

    <link rel="canonical" href="https://simcalc.github.io/calc/ground-bearing-capacity-heavy-equipment">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üèóÔ∏è</text></svg>">
    
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&display=swap" media="print" onload="this.media='all'">
    <noscript><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&display=swap"></noscript>
    
    <script>
    MathJax = {
      tex: {
        inlineMath: [['$', '$'], ['\\(', '\\)']]
      },
      svg: {
        fontCache: 'global'
      }
    };
    </script>
    
    <script id="MathJax-script" defer src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-svg.js"></script>
    
    <style>
        /* CSS Reset and Basic Setup */
        :root {
            --primary-color: #0d47a1; /* Professional dark blue */
            --secondary-color: #1976d2; /* Lighter blue */
            --accent-color: #f9a825; /* Yellow/Orange for buttons */
            --text-color: #212121;
            --bg-color: #f5f7fa;
            --border-color: #cfd8dc;
            --success-bg: #2e7d32; /* Dark green */
            --error-bg: #c62828;   /* Dark red */
            --light-text: #ffffff;
            --shadow: 0 6px 12px rgba(0, 0, 0, 0.1);
            --card-shadow: 0 4px 8px rgba(0,0,0,0.07);
            --border-radius: 8px;
        }

        body {
            font-family: 'Inter', sans-serif;
            line-height: 1.6;
            background-color: var(--bg-color);
            color: var(--text-color);
            margin: 0;
            padding: 0;
        }

        .container {
            max-width: 100%;  
            margin: 0;  
            background-color: var(--light-text);
            border-radius: 0;  
            box-shadow: none;  
        }

        header {
            background-image: url('https://simcalc.github.io/img/groundbearingpressure-modeling.webp');
            background-size: cover;
            background-position: center center;
            background-repeat: no-repeat;
            
            color: var(--light-text);
            padding: 60px 30px;  
            text-align: center;
            position: relative;  
        }
        
        .header-content {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 30px;
            flex-wrap: wrap;
            position: relative;  
            z-index: 2;
        }

        .header-image {
            height: 100px;
            width: auto;
            border-radius: var(--border-radius);
            background-color: rgba(255, 255, 255, 0.1);
            padding: 5px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            object-fit: cover;
            max-width: 100%;  
        }

        .header-text {
            text-align: left;
            flex: 1;
            min-width: 0;  
        }

        header h1 {
            margin: 0;
            font-size: 2em;
            font-weight: 700;
            text-shadow: 0 2px 4px rgba(0,0,0,0.6);
        }

        .subtitle {
            margin: 5px 0 15px;
            font-weight: 400;
            opacity: 0.9;
            text-shadow: 0 1px 3px rgba(0,0,0,0.6);
        }

        .default-info {
            background-color: rgba(255, 255, 255, 0.1);
            padding: 10px 15px;
            border-radius: 6px;
            font-size: 0.9em;
            display: inline-block;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        /* --- Language Selector --- */
        .lang-selector {
            position: absolute;
            bottom: 15px;
            right: 20px;
            z-index: 10;
            display: flex;
            gap: 10px;
        }
        .lang-selector a {
            display: block;
            opacity: 0.8;
            transition: opacity 0.3s, transform 0.3s;
            border-radius: 50%;
            overflow: hidden;
            box-shadow: 0 2px 5px rgba(0,0,0,0.3);
        }
        .lang-selector a:hover {
            opacity: 1;
            transform: scale(1.1);
        }
        .lang-selector img {
            width: 32px;
            height: 32px;
            display: block;
        }
        .lang-selector a.active {
            border: 2px solid var(--accent-color, #f9a825);
            opacity: 1;
        }

        main { padding: 30px; }
        .input-cards-container {
            display: flex;
            gap: 25px;
            margin-bottom: 25px;
        }

        fieldset {
            flex: 1;
            border: 1px solid var(--border-color);
            border-radius: var(--border-radius);
            padding: 20px;
            background-color: #fff;
            box-shadow: var(--card-shadow);
            min-width: 0;
        }

        legend {
            color: var(--primary-color);
            font-weight: 700;
            padding: 0 10px;
            font-size: 1.1em;
        }

        .form-group { margin-bottom: 18px; }
        .form-group label {
            display: block;
            font-weight: 500;
            margin-bottom: 6px;
            color: #455a64;
        }

        .input-with-unit { display: flex; align-items: center; }
        .input-with-unit input {
            flex-grow: 1;
            width: auto;  
            border-radius: 4px 0 0 4px;
        }
        .input-with-unit span {
            background-color: #eceff1;
            border: 1px solid var(--border-color);
            border-left: none;
            padding: 10px 12px;
            border-radius: 0 4px 4px 0;
            font-size: 0.9em;
            white-space: nowrap;
            color: #546e7a;
        }

        input[type="number"], select {  
            width: 100%;
            padding: 10px;
            border: 1px solid var(--border-color);
            border-radius: 4px;
            font-size: 1em;
            transition: border-color 0.3s, box-shadow 0.3s;
            background-color: #fff;  
        }
        input[type="number"]:focus, select:focus {  
            outline: none;
            border-color: var(--secondary-color);
            box-shadow: 0 0 0 2px rgba(25, 118, 210, 0.2);
        }
        
        select {
            -webkit-appearance: none;
            -moz-appearance: none;
            appearance: none;
            background-image: url('data:image/svg+xml;charset=US-ASCII,%3Csvg%2Bxmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%2Bwidth%3D%22292.4%22%2Bheight%3D%22292.4%22%3E%3Cpath%2Bfill%3D%22%23007CB2%22%2Bd%3D%22M287%2B69.4a17.6%2B17.6%2B0%2B0%2B0-13-5.4H18.4c-5%2B0-9.3%2B1.8-13%2B5.4A17.6%2B17.6%2B0%2B0%2B0%2B0%2B82.2c0%2B5%2B1.8%2B9.3%2B5.4%2B13l128%2B128c3.6%2B3.6%2B7.8%2B5.4%2B13%2B5.4s9.4-1.8%2B13-5.4l128-128c3.6-3.6%2B5.4-7.8%2B5.4-13%2B0-5-1.8-9.4-5.4-13z%22%2F%3E%3C%2Fsvg%3E');
            background-repeat: no-repeat;
            background-position: right 10px center;
            background-size: 10px;
            padding-right: 30px;  
        }
        select#craneSelect {
            background-color: #f9f9f9;  
        }
        
        input[type="number"] { -moz-appearance: textfield; }
        input::-webkit-outer-spin-button, input::-webkit-inner-spin-button { -webkit-appearance: none; margin: 0; }
        
        input[readonly] {
            background-color: #eceff1;
            color: #424242;
            cursor: not-allowed;
            opacity: 0.9;
        }

        .form-group small {
            font-size: 0.8em;
            color: #455a64;
            display: block;
            margin-top: 4px;
            line-height: 1.3;
        }
        
        .error-message {
            color: var(--error-bg);
            font-size: 0.85em;
            font-weight: 500;
            display: block;
            height: 1em;  
            margin-top: 4px;
        }
        input.input-error {
            border-color: var(--error-bg) !important;
            box-shadow: 0 0 0 2px rgba(198, 40, 40, 0.2) !important;
        }

        .checkbox-group {
            display: flex;
            align-items: center;
            background-color: #f5f7fa;
            padding: 12px;
            border-radius: 4px;
        }
        .checkbox-group input[type="checkbox"] {
            margin-right: 10px;
            width: 18px;
            height: 18px;
            accent-color: var(--primary-color);
        }
        
        .button-container {
            display: flex;
            gap: 15px;
            margin-bottom: 30px;
        }

        .result-section {
            background-color: #f9fafb;
            padding: 25px;
            border-radius: var(--border-radius);
            border: 1px solid #e0e0e0;
            margin-bottom: 30px;
        }

        #result h2 {
            text-align: center;
            color: var(--primary-color);
            margin-top: 0;
            margin-bottom: 20px;
        }

        .status {
            padding: 15px;
            border-radius: var(--border-radius);
            color: var(--light-text);
            font-size: 1.5em;
            font-weight: 700;
            text-align: center;
            margin-bottom: 15px;
            text-transform: uppercase;
        }
        .status-safe { background-color: var(--success-bg); }
        .status-unsafe { background-color: var(--error-bg); }

        #status-details {
            list-style-type: none;
            padding: 0;
            margin-bottom: 20px;
        }
        #status-details li {
            padding: 10px;
            border-bottom: 1px solid #eee;
            display: flex;
            justify-content: space-between;
            flex-wrap: wrap;  
            gap: 5px;  
        }
        #status-details li:last-child { border-bottom: none; }
        .status-detail-safe { font-weight: bold; color: var(--success-bg); }
        .status-detail-unsafe { font-weight: bold; color: var(--error-bg); }

        .result-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 14px 0;
            border-bottom: 1px solid #eee;
            flex-wrap: wrap;  
            gap: 5px;
        }
        .result-item:last-of-type { border-bottom: none; }
        .result-item strong {  
            font-size: 1.3em;  
            color: var(--secondary-color);
            word-break: break-all;
        }

        .formula-box {
            margin-top: 25px;
            background-color: #e8f0fe;
            padding: 15px;
            border-radius: 4px;
            border: 1px solid #d3e3fd;
        }
        .formula-box h3 {
            margin: 0 0 10px 0;
            font-family: 'Inter', sans-serif;
            color: var(--primary-color);
        }
        #formula-container {  
            text-align: center;  
            font-size: 0.95em;
            overflow-x: auto;
            word-wrap: break-word;
        }

        .hidden { display: none; }
        #placeholder {
            text-align: center;
            color: #999;
            padding: 50px 0;
        }
        
        .theory-section {
            background-color: #ffffff;
            padding: 25px;
            border-radius: var(--border-radius);
            border: 1px solid var(--border-color);
            margin-top: 20px;
        }
        .theory-section h2, .theory-section h3, .theory-section h4 {
            text-align: left;
        }
        .theory-section h2 {
            color: var(--primary-color);
            text-align: center;
            margin-bottom: 20px;
        }
        .theory-section h3 {
            color: var(--secondary-color);
            border-bottom: 2px solid var(--secondary-color);
            padding-bottom: 5px;
            margin-top: 25px;
        }
        .theory-section h4 {
            color: #333;
            margin-top: 20px;
        }
        .theory-section p, .theory-section ul {
            color: #444;
            text-align: justify;
        }
        .theory-section ul {
            padding-left: 20px;
            margin-bottom: 15px;
        }
        .theory-section .formula-display {
            background-color: #f5f7fa;
            padding: 15px;
            margin: 15px 0;
            border-left: 4px solid var(--primary-color);
            overflow-x: auto;
        }
        .theory-section a {
            color: var(--secondary-color);
            text-decoration: none;
            overflow-wrap: break-word;
            word-break: break-all;
        }
        .theory-section a:hover {
            text-decoration: underline;
        }

        .citation {
            color: var(--secondary-color);
            font-weight: bold;
        }

        .custom-alert {
            position: fixed;
            bottom: -100px;  
            left: 50%;
            transform: translateX(-50%);
            background-color: var(--accent-color);
            color: var(--text-color);
            padding: 12px 20px;
            border-radius: var(--border-radius);
            box-shadow: 0 4px 10px rgba(0,0,0,0.2);
            z-index: 1000;
            transition: bottom 0.5s ease-in-out;
            font-weight: 500;
            text-align: center;
        }

        .custom-alert.show {
            bottom: 20px;  
        }

        /* --- CSS for 2-Column Layout --- */
        .layout-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;  
            gap: 30px;  
            margin-bottom: 30px;  
        }

        .layout-grid .input-cards-container {
            flex-direction: column;
        }

        .output-column {
            position: sticky;
            top: 30px;  
            align-self: start;  
            min-width: 0; /* Prevents column from "expanding" */
        }
        /* --- End 2-Column CSS --- */

        @media (max-width: 1024px) {  
            .layout-grid {
                grid-template-columns: 1fr;  
                gap: 20px;
                margin-bottom: 20px;
            }

            .output-column {
                position: static;  
                top: auto;
            }
            
            .input-cards-container { flex-direction: column; }
            header h1 { font-size: 1.6em; }
            main { padding: 20px; }
            .header-content {
                flex-direction: column;
                gap: 15px;
            }
            .header-text {
                text-align: center;
                width: 100%;  
            }
        }
        
        @media (max-width: 768px) {  
            main, .result-section, .theory-section {
                padding: 15px;
            }
            header {
                padding: 40px 20px;  
            }
            .lang-selector { /* Adjust lang buttons for mobile */
                bottom: 10px;
                right: 15px;
            }
            .lang-selector img {
                width: 28px;
                height: 28px;
            }
            .button-container {
                flex-direction: column;
            }
            .result-item, #status-details li {
                flex-direction: column;
                align-items: flex-start;
                gap: 5px;  
                padding-top: 12px;
                padding-bottom: 12px;
            }
            .result-item strong {
                font-size: 1.2em;
                padding-left: 0;  
            }
            #status-details li span:last-child {
                padding-left: 0;  
                text-align: left;  
            }
            header h1 {
                font-size: 1.4em;
            }
        }

        /* --- CSS for Footer --- */
        footer {
            background-color: #37474f;  
            color: #cfd8dc;       
            padding: 40px 30px;
            text-align: center;
            font-family: 'Inter', sans-serif;
            line-height: 1.6;
        }
        .footer-content {
            max-width: 800px;
            margin: 0 auto;
        }
        footer p {
            margin: 8px 0;
            font-size: 0.95em;
        }
        footer a {
            color: #66cdaa;  
            text-decoration: underline;
            font-weight: 500;
            overflow-wrap: break-word;  
            word-break: break-all;
        }
        footer a:hover {
            color: #80deea;
        }
        footer hr {
            border: 0;
            height: 1px;
            background-color: #546e7a;  
            margin: 20px auto;
            max-width: 600px;
        }
        footer .disclaimer {
            font-size: 0.9em;
            font-style: italic;
            text-align: justify;
            hyphens: auto;
        }
    </style>
</head>
<body>

    <div class="container">
        <header>
            <div class="header-content">
                <img src="/img/virsim_trans.webp" alt="Bore Pile Illustration" class="header-image">
                <div class="header-text">
                    <h1 data-lang="headerTitle">
                        Bearing Capacity Modeling & Plate Verification
                    </h1>
                    <p class="subtitle" data-lang="headerSubtitle">
                        Verification of heavy equipment pressure and steel plate strength.
                    </p>
                    <div class="default-info hidden">  
                        <strong>Default Rig:</strong> Kobelco CKS2500 (217t)
                    </div>
                </div>
            </div>

            <!-- Language Selector -->
            <div class="lang-selector">
                <a href="#" title="Switch to Bahasa Indonesia" data-lang-title="langTooltipID" onclick="switchLang('id'); return false;">
                    <img src="https://xplosion.vercel.app/img/ID.svg" alt="Bahasa Indonesia">
                </a>
                <a href="#" title="Switch to English" class="active" data-lang-title="langTooltipEN" onclick="switchLang('en'); return false;">
                    <img src="https://xplosion.vercel.app/img/EN.svg" alt="English">
                </a>
            </div>
        </header>

        <main>
            <div class="layout-grid">  
                <form id="bearingCalculatorForm" onsubmit="return false;" class="input-column">
                    <div class="input-cards-container">  
                        <fieldset>  
                            <legend data-lang="legendParamsRig">
                                1. Heavy Equipment (Rig/Crane) Parameters
                            </legend>
                            <div class="form-group">
                                <label for="craneSelect" data-lang="labelCraneSelect">
                                    Select Equipment (Preset)
                                </label>
                                <select id="craneSelect">  
                                    <option value="bauer_bg_20_h" data-lang="optionBauer">BAUER BG 20 H (56t)</option>
                                    <option value="kobelco_cks2500" selected data-lang="optionKobelco">Kobelco CKS2500 (Default: 217t)</option>
                                    <option value="custom" data-lang="optionCustom">Manual / Custom Input</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="rigWeight" data-lang="labelRigWeight">
                                    Total Operating Weight ($W$)
                                </label>
                                <div class="input-with-unit"><input type="number" id="rigWeight" value="56" step="0.1" required readonly><span>ton</span></div><small class="error-message"></small>
                            </div>
                            <div class="form-group">
                                <label for="trackWidth" data-lang="labelTrackWidth">
                                    Track Shoe Width ($b_{\text{track}}$)
                                </label>
                                <div class="input-with-unit"><input type="number" id="trackWidth" value="0.7" step="0.01" min="0.1" max="1.5" required readonly><span>meter</span></div><small class="error-message"></small>
                            </div>
                            <div class="form-group">
                                <label for="trackLength" data-lang="labelTrackLength">
                                    Track Contact Length ($L_{\text{contact}}$)
                                </label>
                                <div class="input-with-unit"><input type="number" id="trackLength" value="4.5" step="0.1" min="0.1" max="10" required readonly><span>meter</span></div><small class="error-message"></small>
                            </div>
                            <div class="form-group hidden" id="loadDistributionGroup">
                                <label for="loadDistribution" data-lang="labelLoadDist">
                                    Load Distribution Factor ($\eta$)
                                </label>
                                <div class="input-with-unit"><input type="number" id="loadDistribution" value="1" step="0.1" required><span>(unitless)</span></div>
                                <small data-lang="smallLoadDist">
                                    For uneven ground, value is &lt; 1.
                                </small>
                                <small class="error-message"></small>
                            </div>
                        </fieldset>  

                        <fieldset>
                            <legend data-lang="legendParamsSoil">
                                2. Soil & Material Parameters
                            </legend>
                            
                            <div class="form-group">
                                <label for="cbrValue" data-lang="labelCbr">
                                    Estimate from CBR (Optional)
                                </label>
                                <div class="input-with-unit"><input type="number" id="cbrValue" step="1" min="0" value="50"><span>%</span></div>
                                <small id="cbrInfo" data-lang="smallCbr">Estimate based on IRC 37:2018 formula.</small>
                                <small class="error-message"></small>
                            </div>
                            
                            <div class="form-group">
                                <label for="soilCapacity" data-lang="labelSoilCap">
                                    Allowable Ground Bearing Capacity ($q_{\text{allow,test}}$)
                                </label>
                                <div class="input-with-unit"><input type="number" id="soilCapacity" value="25" step="1" required><span>kPa</span></div>
                                <small data-lang="smallSoilCap">
                                    From field test results (or CBR estimate).
                                </small>
                                <small class="error-message"></small>
                            </div>
                            <div class="form-group">
                                 <label for="factorOfSafety" data-lang="labelFoS">
                                    Factor of Safety (FoS)
                                 </label>
                                <div class="input-with-unit"><input type="number" id="factorOfSafety" value="1.5" step="0.1" required><span>(unitless)</span></div><small class="error-message"></small>
                            </div>
                            <div class="form-group">
                                <label for="loadFactor" data-lang="labelLoadFactor">
                                    Load Factor ($\gamma_F$)
                                </label>
                                <div class="input-with-unit"><input type="number" id="loadFactor" value="1.15" step="0.01" required><span>(unitless)</span></div>
                                <small data-lang="smallLoadFactor">Ref: EFFC/DFI Guide.</small><small class="error-message"></small>
                            </div>
                            <div class="form-group hidden" id="steelYieldStrengthGroup">
                                <label for="steelYieldStrength" data-lang="labelSteelYield">
                                    Plate Steel Yield Strength ($f_y$)
                                </label>
                                <div class="input-with-unit"><input type="number" id="steelYieldStrength" value="250" step="10"><span>MPa</span></div><small class="error-message"></small>
                            </div>
                        </fieldset>
                        
                        <fieldset>
                            <legend data-lang="legendOptions">
                                3. Additional Options
                            </legend>
                            <div class="form-group checkbox-group">
                                <input type="checkbox" id="useSteelPlate" checked>
                                <label for="useSteelPlate" data-lang="labelUsePlate">
                                    Use Steel Plate / Mat
                                </label>
                            </div>
                            <div id="steelPlateInput">
                                <div class="form-group">
                                    <label for="plateLength" data-lang="labelPlateLength">
                                        Plate Length ($L_{\text{plate}}$)
                                    </label>
                                    <div class="input-with-unit"><input type="number" id="plateLength" value="6.0" step="0.1"><span>meter</span></div><small class="error-message"></small>
                                </div>
                                <div class="form-group">
                                    <label for="plateWidth" data-lang="labelPlateWidth">
                                        Plate Width ($b_{\text{plate}}$)
                                    </label>
                                    <div class="input-with-unit"><input type="number" id="plateWidth" value="1.5" step="0.1"><span>meter</span></div><small class="error-message"></small>
                                </div>
                                <div class="form-group">
                                    <label for="plateThickness" data-lang="labelPlateThick">
                                        Plate Thickness ($t_{\text{plate}}$)
                                    </label>
                                    <div class="input-with-unit"><input type="number" id="plateThickness" value="22" step="1"><span>mm</span></div><small class="error-message"></small>
                                </div>
                            </div>
                        </fieldset>  

                    </div>  

                    <div class="button-container">
                        <button type="button" id="calculateBtn" class="hidden">  
                            CALCULATE VERIFICATION
                        </button>
                    </div>

                </form>  

                <div class="result-section output-column">  

                    <div id="result" class="hidden">
                        <h2 data-lang="resultsTitle">
                            Verification Results
                        </h2>
                        <div id="status" class="status"></div>
                        <ul id="status-details"></ul>
                        <div class="result-item">
                            <span title="Actual pressure applied by the equipment to the ground" data-lang="labelQDemand" data-lang-title="tooltipQDemand">
                                Actual Pressure on Ground ($q_{\text{demand}}$)
                            </span>
                            <strong id="qDemand"></strong>
                        </div>
                        <div class="result-item">
                            <span title="Safe bearing capacity of the soil based on FoS" data-lang="labelQAllow" data-lang-title="tooltipQAllow">
                                Allowable Ground Capacity ($q_{\text{allowable}}$)
                            </span>
                            <strong id="qAllowable"></strong>
                        </div>
                        <div class="result-item hidden" id="bendingResultItem">
                            <span title="Actual bending stress on the plate" data-lang="labelBendingStress" data-lang-title="tooltipBendingStress">
                                Plate Bending Stress ($\sigma_{\text{bending}}$)
                            </span>
                            <strong id="bendingStress"></strong>
                        </div>
                        <div class="result-item hidden" id="bendingAllowableResultItem">
                            <span title="Allowable bending stress of the plate material" data-lang="labelBendingAllow" data-lang-title="tooltipBendingAllow">
                                 Allowable Bending Stress ($\sigma_{\text{allow}}$)
                            </span>
                            <strong id="bendingAllowable"></strong>
                        </div>
                        <div class="result-item hidden" id="shearResultItem">
                            <span title="Actual punching shear stress on the plate" data-lang="labelShearStress" data-lang-title="tooltipShearStress">
                                Plate Punching Shear Stress ($\tau_{\text{punch}}$)
                            </span>
                            <strong id="shearStress"></strong>
                        </div>
                        <div class="result-item hidden" id="shearAllowableResultItem">
                            <span title="Allowable punching shear stress of the plate material" data-lang="labelShearAllow" data-lang-title="tooltipShearAllow">
                                Allowable Shear Stress ($\tau_{\text{allow}}$)
                            </span>
                            <strong id="shearAllowable"></strong>
                        </div>
                        <div class="formula-box">
                            <h3 data-lang="labelFormulas">
                                Formulas Used:
                            </h3>
                            <div id="formula-container"></div>
                        </div>
                    </div>
                    <div id="placeholder">
                        <svg xmlns="http://www.w3.org/2000/svg" width="80" height="80" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round" style="color: #b0bec5;"><path d="M2 21h20"/><path d="M5.23 21V8.41c0-1.1.9-2,2-2h9.54c1.1,0,2,.9,2,2V21"/><path d="M9 21v-5a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v5"/><path d="M12 21v-8"/><path d="M18 10c-1.5-3-6-2.5-6-2.5s-4.5-.5-6,2.5"/><path d="M11 11h2"/></svg>
                        <p data-lang="placeholderText">
                            Calculation results will be displayed here.
                        </p>
                    </div>
                </div>
            </div>  

            <div class="theory-section">
                <h2 data-lang="theoryTitle">
                    Basis of Calculation Theory
                </h2>
                <p data-lang="theoryIntro">
                    This analysis aims to ensure the safety and stability of the working platform for heavy equipment operations, either directly on the ground or using a <i>steel plate</i> (mat) intermediary. The working platform must be able to support the applied loads without failure or excessive deformation <b class="citation">[1, 4]</b>. The calculation methodology refers to the working platform design guide by EFFC/DFI and common geotechnical and structural engineering practices. The verification covers three main aspects:
                </p>
                
                <h3 data-lang="theoryTitle1">
                    1. Ground Bearing Capacity Verification
                </h3>
                <p data-lang="theoryP1_1">
                    The purpose of this verification is to ensure that the pressure applied by the heavy equipment to the ground ($q_{\text{demand}}$) does not exceed the allowable ground capacity ($q_{\text{allowable}}$). The allowable capacity is obtained from soil test data ($q_{\text{allow,test}}$), such as a CBR or Plate Bearing Test, which is then reduced by a Factor of Safety (FoS) <b class="citation">[1]</b>.
                </p>
                <p data-lang="theoryP1_2">
                    The $q_{\text{allow,test}}$ value can also be estimated from the CBR value. Standards like IRC 37:2018 (using the Powell et al. correlation) correlate CBR with Resilient Modulus ($M_R$). For the purpose of estimating bearing capacity (not pavement modulus), the following empirical formulas are used in this calculator:
                </p>
                <div class="formula-display">
                    If $\text{CBR} \le 5\%$: $q_{\text{allow,test}} \text{ (kPa)} \approx 10 \times \text{CBR}$ <br>
                    If $\text{CBR} > 5\%$: $q_{\text{allow,test}} \text{ (kPa)} \approx 17.6 \times (\text{CBR})^{0.64}$
                </div>
                <div class="formula-display">
                    $q_{\text{allowable}} = \frac{q_{\text{allow,test}}}{\text{FoS}}$
                </div>
                <p data-lang="theoryP1_3">
                    The actual applied pressure ($q_{\text{demand}}$) is calculated by considering the total operating weight of the equipment ($W$) multiplied by a load factor ($\gamma_F$). This factor accommodates dynamic effects, eccentric loads, and operational intensity <b class="citation">[4]</b>. This factored load is then distributed over the entire contact area.
                </p>
                <div class="formula-display">
                    Actual Pressure (with plate): $q_{\text{demand}} = \frac{\gamma_F \times W \times g}{2 \times L_{\text{plate}} \times b_{\text{plate}}}$
                </div>
                <p><b data-lang="theorySafety1">
                    Safety Condition: $q_{\text{demand}} \le q_{\text{allowable}}$
                </b></p>

                <h3 data-lang="theoryTitle2">
                    2. Steel Plate Structural Verification
                </h3>
                <p data-lang="theoryP2_1">
                    When a steel plate is used, the structural integrity of the plate itself must be verified against two primary failure modes: bending and punching shear <b class="citation">[1, 4]</b>.
                </p>

                <h4 data-lang="theoryTitle2a">
                    a. Bending Stress Verification
                </h4>
                <p data-lang="theoryP2a_1">
                    The analysis model assumes the part of the plate cantilevering beyond the track contact area receives an upward pressure from the ground ($q_{\text{demand}}$). This pressure induces a bending moment in the plate. The actual bending stress ($\sigma_{\text{bending}}$) is calculated using the standard formula for a cantilever plate with a uniformly distributed load <b class="citation">[2]</b>. This stress must not exceed the allowable material stress ($\sigma_{\text{allowable}}$). Based on steel design standards like AISC 360, the allowable stress for serviceability conditions is often taken as a percentage of the steel's yield strength ($f_y$). A common value used for scaffolding or temporary structures is $0.75 \times f_y$, which provides an additional factor of safety <b class="citation">[3]</b>.
                </p>
                <div class="formula-display">
                    Cantilever Length: $c = \frac{b_{\text{plate}} - b_{\text{track}}}{2}$ <br>
                    Actual Bending Stress: $\sigma_{\text{bending}} = \frac{3 \times q_{\text{demand}} \times c^2}{t_{\text{plate}}^2}$ <br>
                    Allowable Bending Stress: $\sigma_{\text{allowable}} = 0.75 \times f_y$
                </div>
                <p><b data-lang="theorySafety2a">
                    Safety Condition: $\sigma_{\text{bending}} \le \sigma_{\text{allowable}}$
                </b></p>
                
                <h4 data-lang="theoryTitle2b">
                    b. Punching Shear Verification
                </h4>
                <p data-lang="theoryP2b_1">
                    This verification ensures the track does not "punch" or "tear" through the steel plate. The shear stress ($\tau_{\text{punch}}$) is calculated on the critical perimeter around the track area. The net shear force is the load from the track minus the ground support force acting under the track area itself. The actual shear stress must not exceed the allowable shear stress ($\tau_{\text{allowable}}$). In accordance with AISC 360 specifications, the allowable shear stress can be taken as 40% of the yield strength ($0.40 \times f_y$) for plastic conditions <b class="citation">[3, 4]</b>.
                </p>
                <div class="formula-display">
                    Net Punching Force: $V = (\frac{\gamma_F \times W \times g}{2}) - (q_{\text{demand}} \times b_{\text{track}} \times L_{\text{contact}})$ <br>
                    Actual Shear Stress: $\tau_{\text{punch}} = \frac{V}{2 \times (L_{\text{contact}} + b_{\text{track}}) \times t_{\text{plate}}}$ <br>

                    Allowable Shear Stress: $\tau_{\text{allowable}} = 0.40 \times f_y$
                </div>
                <p><b data-lang="theorySafety2b">
                    Safety Condition: $\tau_{\text{punch}} \le \tau_{\text{allowable}}$
                </b></p>

                <h3 data-lang="theoryTitle3">
                    References
                </h3>
                <ol>
                    <li>European Federation of Foundation Contractors (EFFC) & Deep Foundations Institute (DFI). (2020). <i>A Guide to Working Platform Design</i>. <a href="https://www.effc.org/the-effc-dfi-guide-to-working-platforms/" target="_blank" rel="noopener noreferrer">[Link]</a></li>
                    <li>Young, W. C., & Budynas, R. G. (2002). <i>Roark's Formulas for Stress and Strain (7th ed.)</i>. McGraw-Hill. (General formulas for plate bending). <a href="https://www.accessengineeringlibrary.com/binary/mheaeworks/cf5a48913b291c42/63369d37d6a66b0242c85f91b07d3ccb521ebbf16bb02c8eb098879b6c037a0b/book-summary.pdf" target="_blank" rel="noopener noreferrer">[Link]</a></li>
                    <li>American Institute of Steel Construction (AISC). (2016). <i>Specification for Structural Steel Buildings (ANSI/AISC 360-16)</i>. (General principles for allowable bending and shear stress). <a href="https://www.aisc.org/globalassets/aisc/publications/standards/a360-16w-rev-june-2019.pdf" target="_blank" rel="noopener noreferrer">[Link]</a></li>
                    <li>European Federation of Foundation Contractors (EFFC) & Deep Foundations Institute (DFI). (2023). <i>Guide to Working Platform Design (2nd ed.)</i>. <a href="https://www.voebu.at/media//Publikationen/EFFC-DFI_Guide_For_Working_Platforms_Edition_2_WEB_FINAL.pdf" target="_blank" rel="noopener noreferrer">[Link]</a></li>
                    <li>Indian Roads Congress (IRC). (2018). <i>Guidelines for the Design of Flexible Pavements (IRC: 37-2018)</i>. (Provides correlation $M_R \text{ (MPa)} = 17.6 \times (\text{CBR})^{0.64}$ for CBR > 5%).</li>
                    <li data-lang="theoryRef6">Kobelco Construction Machinery. (2023). <i>CKS2500 Specifications</i>. (Equipment specifications). <a href="https://www.kobelcocm-global.com/products/cranes/asia/pdf/CKS2500spec.pdf?230227" target="_blank" rel="noopener noreferrer">[Link]</a></li>
                    <li data-lang="theoryRef7">BAUER Maschinen GmbH. (2022). <i>BAUER BG 20 H (BS 60 RS) Specifications</i>. (Equipment specifications). <a href="https://equipment.bauer.de/en/media/1914/download?inline" target="_blank" rel="noopener noreferrer">[Link]</a></li>
                </ol>
            </div>
        </main>

        <footer>
            <div class="footer-content">
                <p data-lang="footerP1">Copyright ¬© 2025 Apps Development by <a href="https://www.gendewa.my.id/" target="_blank" rel="noopener noreferrer">Ahmad Fauzan. Gendewa</a></p>
                <p data-lang="footerP2">Calculation & Validation Field Study by <a href="https://id.linkedin.com/in/dimas-muflih-181b33288" target="_blank" rel="noopener noreferrer">Dimas Muflih</a></p>
                <p data-lang="footerP3">Layout Designed by <a href="https://id.linkedin.com/in/mokhamadabrar" target="_blank" rel="noopener noreferrer">Mokhamad Abrar</a></p>
                <hr>
                <p class="disclaimer" data-lang="footerDisclaimer">Disclaimer: This application is part of field engineering study concerning the soil bearing pressure simulation. Its purpose is purely field practices study. We sincerely welcome any constructive feedback and criticism to enrich this study, both from the perspective of civil engineering and the implementation of JavaScript technology.</p>
            </div>
        </footer>

    </div>  

    <div id="custom-alert"></div>

    <script>
        // --- BEGIN LANGUAGE TRANSLATION ---
        let currentLang = 'en'; // Default language

        const translations = {
            // Page & Header
            'pageTitle': { en: 'Bearing Capacity Modeling & Plate Verification (v3.3 - LCP Optimized)', id: 'Modeling Daya Dukung & Verifikasi Plate (v3.3 - LCP Optimized)' },
            'headerTitle': { en: 'Bearing Capacity Modeling & Plate Verification', id: 'Modeling Daya Dukung & Verifikasi Plate' },
            'headerSubtitle': { en: 'Verification of heavy equipment pressure and steel plate strength.', id: 'Verifikasi tekanan alat berat dan kekuatan steel plate.' },
            'langTooltipID': { en: 'Switch to Bahasa Indonesia', id: 'Ganti ke Bahasa Indonesia' },
            'langTooltipEN': { en: 'Switch to English', id: 'Ganti ke Bahasa Inggris' },
            // Section 1: Rig Params
            'legendParamsRig': { en: '1. Heavy Equipment (Rig/Crane) Parameters', id: '1. Parameter Alat Berat (Rig/Crane)' },
            'labelCraneSelect': { en: 'Select Equipment (Preset)', id: 'Pilih Alat Berat (Preset)' },
            'optionBauer': { en: 'BAUER BG 20 H (56t)', id: 'BAUER BG 20 H (56t)' },
            'optionKobelco': { en: 'Kobelco CKS2500 (Default: 217t)', id: 'Kobelco CKS2500 (Default: 217t)' },
            'optionCustom': { en: 'Manual / Custom Input', id: 'Input Manual / Custom' },
            'labelRigWeight': { en: 'Total Operating Weight ($W$)', id: 'Berat Operasi Total ($W$)' },
            'labelTrackWidth': { en: 'Track Shoe Width ($b_{\\text{track}}$)', id: 'Lebar Track Shoe ($b_{\\text{track}}$)' },
            'labelTrackLength': { en: 'Track Contact Length ($L_{\\text{contact}}$)', id: 'Panjang Kontak Track ($L_{\\text{contact}}$)' },
            'labelLoadDist': { en: 'Load Distribution Factor ($\\eta$)', id: 'Faktor Distribusi Beban ($\\eta$)' },
            'smallLoadDist': { en: 'For uneven ground, value is &lt; 1.', id: 'Untuk tanah tidak rata, nilainya < 1.' },
            // Section 2: Soil Params
            'legendParamsSoil': { en: '2. Soil & Material Parameters', id: '2. Parameter Tanah & Material' },
            'labelCbr': { en: 'Estimate from CBR (Optional)', id: 'Estimasi dari CBR (Opsional)' },
            'smallCbr': { en: 'Estimate based on IRC 37:2018 formula.', id: 'Estimasi berdasarkan formula IRC 37:2018.' },
            'labelSoilCap': { en: 'Allowable Ground Bearing Capacity ($q_{\\text{allow,test}}$)', id: 'Daya Dukung Tanah Izin ($q_{\\text{allow,test}}$)' },
            'smallSoilCap': { en: 'From field test results (or CBR estimate).', id: 'Dari hasil uji lapangan (atau estimasi CBR).' },
            'labelFoS': { en: 'Factor of Safety (FoS)', id: 'Faktor Keamanan (FoS)' },
            'labelLoadFactor': { en: 'Load Factor ($\\gamma_F$)', id: 'Faktor Beban ($\\gamma_F$)' },
            'smallLoadFactor': { en: 'Ref: EFFC/DFI Guide.', id: 'Ref: EFFC/DFI Guide.' },
            'labelSteelYield': { en: 'Plate Steel Yield Strength ($f_y$)', id: 'Kuat Leleh Baja Plate ($f_y$)' },
            // Section 3: Options
            'legendOptions': { en: '3. Additional Options', id: '3. Opsi Tambahan' },
            'labelUsePlate': { en: 'Use Steel Plate / Mat', id: 'Gunakan Steel Plate / Mat' },
            'labelPlateLength': { en: 'Plate Length ($L_{\\text{plate}}$)', id: 'Panjang Plate ($L_{\\text{plate}}$)' },
            'labelPlateWidth': { en: 'Plate Width ($b_{\\text{plate}}$)', id: 'Lebar Plate ($b_{\\text{plate}}$)' },
            'labelPlateThick': { en: 'Plate Thickness ($t_{\\text{plate}}$)', id: 'Tebal Plate ($t_{\\text{plate}}$)' },
            // Results
            'resultsTitle': { en: 'Verification Results', id: 'Hasil Verifikasi' },
            'labelQDemand': { en: 'Actual Pressure on Ground ($q_{\\text{demand}}$)', id: 'Tekanan Aktual ke Tanah ($q_{\\text{demand}}$)' },
            'tooltipQDemand': { en: 'Actual pressure applied by the equipment to the ground', id: 'Tekanan aktual yang diberikan alat ke tanah' },
            'labelQAllow': { en: 'Allowable Ground Capacity ($q_{\\text{allowable}}$)', id: 'Kapasitas Aman Tanah ($q_{\\text{allowable}}$)' },
            'tooltipQAllow': { en: 'Safe bearing capacity of the soil based on FoS', id: 'Kapasitas aman tanah berdasarkan FoS' },
            'labelBendingStress': { en: 'Plate Bending Stress ($\\sigma_{\\text{bending}}$)', id: 'Tegangan Lentur Plate ($\\sigma_{\\text{bending}}$)' },
            'tooltipBendingStress': { en: 'Actual bending stress on the plate', id: 'Tegangan lentur aktual pada plate' },
            'labelBendingAllow': { en: 'Allowable Bending Stress ($\\sigma_{\\text{allow}}$)', id: 'Tegangan Lentur Izin ($\\sigma_{\\text{allow}}$)' },
            'tooltipBendingAllow': { en: 'Allowable bending stress of the plate material', id: 'Tegangan lentur izin material plate' },
            'labelShearStress': { en: 'Plate Punching Shear Stress ($\\tau_{\\text{punch}}$)', id: 'Tegangan Geser Pons Plate ($\\tau_{\\text{punch}}$)' },
            'tooltipShearStress': { en: 'Actual punching shear stress on the plate', id: 'Tegangan geser pons aktual pada plate' },
            'labelShearAllow': { en: 'Allowable Shear Stress ($\\tau_{\\text{allow}}$)', id: 'Tegangan Geser Izin ($\\tau_{\\text{allow}}$)' },
            'tooltipShearAllow': { en: 'Allowable punching shear stress of the plate material', id: 'Tegangan geser pons izin material plate' },
            'labelFormulas': { en: 'Formulas Used:', id: 'Formula yang Digunakan:' },
            'placeholderText': { en: 'Calculation results will be displayed here.', id: 'Hasil perhitungan akan ditampilkan di sini.' },
            // Theory Section
            'theoryTitle': { en: 'Basis of Calculation Theory', id: 'Landasan Teori Perhitungan' },
            'theoryIntro': { en: 'This analysis aims to ensure the safety and stability of the working platform for heavy equipment operations, either directly on the ground or using a <i>steel plate</i> (mat) intermediary. The working platform must be able to support the applied loads without failure or excessive deformation <b class="citation">[1, 4]</b>. The calculation methodology refers to the working platform design guide by EFFC/DFI and common geotechnical and structural engineering practices. The verification covers three main aspects:', id: 'Analisis ini bertujuan untuk memastikan keamanan dan stabilitas platform kerja untuk operasional alat berat, baik secara langsung di atas tanah maupun dengan menggunakan perantara <i>steel plate</i> (matras). Platform kerja harus mampu menahan beban yang diberikan tanpa mengalami keruntuhan atau deformasi berlebih <b class="citation">[1, 4]</b>. Metodologi perhitungan mengacu pada panduan desain platform kerja oleh EFFC/DFI dan praktik umum rekayasa geoteknik dan struktural. Verifikasi mencakup tiga aspek utama:' },
            'theoryTitle1': { en: '1. Ground Bearing Capacity Verification', id: '1. Verifikasi Daya Dukung Tanah (Ground Bearing Pressure)' },
            'theoryP1_1': { en: 'The purpose of this verification is to ensure that the pressure applied by the heavy equipment to the ground ($q_{\\text{demand}}$) does not exceed the allowable ground capacity ($q_{\\text{allowable}}$). The allowable capacity is obtained from soil test data ($q_{\\text{allow,test}}$), such as a CBR or Plate Bearing Test, which is then reduced by a Factor of Safety (FoS) <b class="citation">[1]</b>.', id: 'Tujuan verifikasi ini adalah untuk memastikan bahwa tekanan yang diberikan oleh alat berat ke tanah ($q_{\\text{demand}}$) tidak melampaui kapasitas aman tanah ($q_{\\text{allowable}}$). Kapasitas aman diperoleh dari data uji tanah ($q_{\\text{allow,test}}$), seperti uji CBR atau Plate Bearing Test, yang kemudian direduksi dengan Faktor Keamanan (FoS) <b class="citation">[1]</b>.' },
            'theoryP1_2': { en: 'The $q_{\\text{allow,test}}$ value can also be estimated from the CBR value. Standards like IRC 37:2018 (using the Powell et al. correlation) correlate CBR with Resilient Modulus ($M_R$). For the purpose of estimating bearing capacity (not pavement modulus), the following empirical formulas are used in this calculator:', id: 'Nilai $q_{\\text{allow,test}}$ juga dapat diestimasi dari nilai CBR. Standar seperti IRC 37:2018 (menggunakan korelasi Powell et al.) mengkorelasikan CBR dengan Resilient Modulus ($M_R$). Untuk tujuan estimasi daya dukung (bukan modulus perkerasan), formula empiris berikut digunakan dalam kalkulator ini:' },
            'theoryP1_3': { en: 'The actual applied pressure ($q_{\\text{demand}}$) is calculated by considering the total operating weight of the equipment ($W$) multiplied by a load factor ($\\gamma_F$). This factor accommodates dynamic effects, eccentric loads, and operational intensity <b class="citation">[4]</b>. This factored load is then distributed over the entire contact area.', id: 'Tekanan aktual yang terjadi ($q_{\\text{demand}}$) dihitung dengan memperhitungkan berat operasi total alat ($W$) yang dikalikan dengan faktor beban ($\\gamma_F$). Faktor ini mengakomodasi efek dinamis, beban eksentris, dan intensitas operasional <b class="citation">[4]</b>. Beban berfaktor ini kemudian didistribusikan ke seluruh area kontak.' },
            'theorySafety1': { en: 'Safety Condition: $q_{\\text{demand}} \\le q_{\\text{allowable}}$', id: 'Syarat Aman: $q_{\\text{demand}} \\le q_{\\text{allowable}}$' },
            'theoryTitle2': { en: '2. Steel Plate Structural Verification', id: '2. Verifikasi Struktural Steel Plate' },
            'theoryP2_1': { en: 'When a steel plate is used, the structural integrity of the plate itself must be verified against two primary failure modes: bending and punching shear <b class="citation">[1, 4]</b>.', id: 'Ketika steel plate digunakan, integritas struktural plate itu sendiri harus diverifikasi terhadap dua mode kegagalan utama: lentur (bending) dan geser pons (punching shear) <b class="citation">[1, 4]</b>.' },
            'theoryTitle2a': { en: 'a. Bending Stress Verification', id: 'a. Verifikasi Lentur (Bending Stress)' },
            'theoryP2a_1': { en: 'The analysis model assumes the part of the plate cantilevering beyond the track contact area receives an upward pressure from the ground ($q_{\\text{demand}}$). This pressure induces a bending moment in the plate. The actual bending stress ($\\sigma_{\\text{bending}}$) is calculated using the standard formula for a cantilever plate with a uniformly distributed load <b class="citation">[2]</b>. This stress must not exceed the allowable material stress ($\\sigma_{\\text{allowable}}$). Based on steel design standards like AISC 360, the allowable stress for serviceability conditions is often taken as a percentage of the steel\'s yield strength ($f_y$). A common value used for scaffolding or temporary structures is $0.75 \\times f_y$, which provides an additional factor of safety <b class="citation">[3]</b>.', id: 'Model analisis mengasumsikan bagian plate yang menjorok keluar dari area kontak track (<i>cantilever</i>) menerima tekanan balik dari tanah ($q_{\\text{demand}}$). Tekanan ini menyebabkan momen lentur pada plate. Tegangan lentur aktual ($\\sigma_{\\text{bending}}$) dihitung menggunakan formula standar untuk plat kantilever dengan beban merata <b class="citation">[2]</b>. Tegangan ini tidak boleh melebihi tegangan izin material ($\\sigma_{\\text{allowable}}$). Berdasarkan standar desain baja seperti AISC 360, tegangan izin untuk kondisi layan seringkali diambil sebagai persentase dari kuat leleh baja ($f_y$). Nilai yang umum digunakan untuk desain perancah atau struktur temporer adalah $0.75 \\times f_y$, yang memberikan faktor keamanan tambahan <b class="citation">[3]</b>.' },
            'theorySafety2a': { en: 'Safety Condition: $\\sigma_{\\text{bending}} \\le \\sigma_{\\text{allowable}}$', id: 'Syarat Aman: $\\sigma_{\\text{bending}} \\le \\sigma_{\\text{allowable}}$' },
            'theoryTitle2b': { en: 'b. Punching Shear Verification', id: 'b. Verifikasi Geser Pons (Punching Shear)' },
            'theoryP2b_1': { en: 'This verification ensures the track does not "punch" or "tear" through the steel plate. The shear stress ($\\tau_{\\text{punch}}$) is calculated on the critical perimeter around the track area. The net shear force is the load from the track minus the ground support force acting under the track area itself. The actual shear stress must not exceed the allowable shear stress ($\\tau_{\\text{allowable}}$). In accordance with AISC 360 specifications, the allowable shear stress can be taken as 40% of the yield strength ($0.40 \\times f_y$) for plastic conditions <b class="citation">[3, 4]</b>.', id: 'Verifikasi ini memastikan track tidak "menusuk" atau "merobek" steel plate. Tegangan geser ($\\tau_{\\text{punch}}$) dihitung pada keliling perimeter kritis di sekitar area track. Gaya geser netto adalah beban dari track dikurangi gaya dukung tanah yang bekerja di bawah area track itu sendiri. Tegangan geser aktual tidak boleh melampaui tegangan geser izin ($\\tau_{\\text{allowable}}$). Sesuai dengan spesifikasi AISC 360, tegangan geser izin dapat diambil sebesar 40% dari kuat leleh baja ($0.40 \\times f_y$) untuk kondisi plastis <b class="citation">[3, 4]</b>.' },
            'theorySafety2b': { en: 'Safety Condition: $\\tau_{\\text{punch}} \\le \\tau_{\\text{allowable}}$', id: 'Syarat Aman: $\\tau_{\\text{punch}} \\le \\tau_{\\text{allowable}}$' },
            'theoryTitle3': { en: 'References', id: 'Daftar Pustaka' },
            'theoryRef6': { en: 'Kobelco Construction Machinery. (2023). <i>CKS2500 Specifications</i>. (Equipment specifications).', id: 'Kobelco Construction Machinery. (2023). <i>CKS2500 Specifications</i>. (Spesifikasi alat berat).' },
            'theoryRef7': { en: 'BAUER Maschinen GmbH. (2022). <i>BAUER BG 20 H (BS 60 RS) Specifications</i>. (Equipment specifications).', id: 'BAUER Maschinen GmbH. (2022). <i>BAUER BG 20 H (BS 60 RS) Specifications</i>. (Spesifikasi alat berat).' },
            // Footer
            'footerP1': { en: 'Copyright ¬© 2025 Apps Development by <a href="https://www.gendewa.my.id/" target="_blank" rel="noopener noreferrer">Ahmad Fauzan. Gendewa</a>', id: 'Copyright ¬© 2025 Apps Development by <a href="https://www.gendewa.my.id/" target="_blank" rel="noopener noreferrer">Ahmad Fauzan. Gendewa</a>' },
            'footerP2': { en: 'Calculation & Validation Field Study by <a href="https://id.linkedin.com/in/dimas-muflih-181b33288" target="_blank" rel="noopener noreferrer">Dimas Muflih</a>', id: 'Calculation & Validation Field Study by <a href="https://id.linkedin.com/in/dimas-muflih-181b33288" target="_blank" rel="noopener noreferrer">Dimas Muflih</a>' },
            'footerP3': { en: 'Layout Designed by <a href="https://id.linkedin.com/in/mokhamadabrar" target="_blank" rel="noopener noreferrer">Mokhamad Abrar</a>', id: 'Layout Designed by <a href="https://id.linkedin.com/in/mokhamadabrar" target="_blank" rel="noopener noreferrer">Mokhamad Abrar</a>' },
            'footerDisclaimer': { en: 'Disclaimer: This application is part of field engineering study concerning the soil bearing pressure simulation. Its purpose is purely field practices study. We sincerely welcome any constructive feedback and criticism to enrich this study, both from the perspective of civil engineering and the implementation of JavaScript technology.', id: 'Disclaimer: This application is part of field engineering study concerning the soil bearing pressure simulation. Its purpose is purely field practices study. We sincerely welcome any constructive feedback and criticism to enrich this study, both from the perspective of civil engineering and the implementation of JavaScript technology.' },
            // JS Alert/Dynamic Messages
            'alertAlreadyEN': { en: 'Already in English.', id: 'Sudah dalam Bahasa Inggris.' },
            'alertAlreadyID': { en: 'Already in Bahasa Indonesia.', id: 'Sudah dalam Bahasa Indonesia.' },
            'alertManualInput': { en: 'Manual Input enabled.', id: 'Input Manual diaktifkan.' },
            'alertOutOfRange': { en: 'is out of range, set to max value:', id: 'di luar rentang, diatur ke nilai maks:' },
            'errorRequired': { en: 'This field is required.', id: 'Input ini wajib diisi.' },
            'errorGreaterThanZero': { en: 'Value must be greater than zero.', id: 'Nilai harus lebih dari nol.' },
            'errorPlateWidth': { en: 'Plate width must be greater than track width.', id: 'Lebar plate harus lebih besar dari lebar track.' },
            'statusSafe': { en: 'SAFE', id: 'AMAN' },
            'statusNotSafe': { en: 'NOT SAFE', id: 'TIDAK AMAN' },
            'statusCheckSoil': { en: 'Ground Bearing Capacity', id: 'Daya Dukung Tanah' },
            'statusCheckBending': { en: 'Plate Bending', id: 'Lentur Plate' },
            'statusCheckShear': { en: 'Plate Punching Shear', id: 'Geser Pons Plate' },
            'cbrEstimateDefault': { en: 'Estimate based on IRC 37:2018 formula.', id: 'Estimasi berdasarkan formula IRC 37:2018.' },
            'cbrEstimateLTE5': { en: 'IRC 37 Estimate (CBR ‚â§ 5%):', id: 'Estimasi IRC 37 (CBR ‚â§ 5%):' },
            'cbrEstimateGT5': { en: 'IRC 37 Estimate (CBR > 5%):', id: 'Estimasi IRC 37 (CBR > 5%):' },
            'paramTrackLength': { en: 'Track Contact Length', id: 'Panjang Kontak Track' },
            'paramTrackWidth': { en: 'Track Shoe Width', id: 'Lebar Track Shoe' }
        };

        function applyTranslations() {
            const lang = currentLang;
            // Set page lang and title
            document.documentElement.lang = lang;
            document.title = translations.pageTitle[lang];

            // Update all static text content
            document.querySelectorAll('[data-lang]').forEach(el => {
                const key = el.getAttribute('data-lang');
                if (translations[key] && translations[key][lang] !== undefined) {
                    // Use innerHTML to render tags like <b> or <i>
                    el.innerHTML = translations[key][lang];
                }
            });

            // Update all title attributes (tooltips)
            document.querySelectorAll('[data-lang-title]').forEach(el => {
                const key = el.getAttribute('data-lang-title');
                if (translations[key] && translations[key][lang] !== undefined) {
                    el.setAttribute('title', translations[key][lang]);
                }
            });

            // Update language switcher active state
            document.querySelectorAll('.lang-selector a').forEach(a => {
                a.classList.remove('active');
            });
            const activeLink = document.querySelector(`.lang-selector a[onclick="switchLang('${lang}'); return false;"]`);
            if (activeLink) {
                activeLink.classList.add('active');
            }

            // Re-typeset math if needed (for labels that changed)
            if (window.MathJax && window.MathJax.startup) {
                 MathJax.startup.promise.then(() => {
                    MathJax.typesetPromise();
                });
            }
        }
        // --- END LANGUAGE TRANSLATION ---


        const customAlert = document.getElementById('custom-alert');
        let alertTimeout;

        // Function to show custom notification
        function showAlert(message) {
            customAlert.textContent = message;
            customAlert.classList.add('show');
            
            clearTimeout(alertTimeout);
            setTimeout(() => {
                customAlert.classList.remove('show');
            }, 3500);  
        }

        // --- MODIFIED switchLang ---
        // Make it globally accessible for onclick
        window.switchLang = function(lang) {
            if (lang === currentLang) {
                showAlert(lang === 'en' ? translations.alertAlreadyEN[lang] : translations.alertAlreadyID[lang]);
                return;
            }
            currentLang = lang;
            applyTranslations();
            // Re-calculate to update dynamic text (results, CBR info)
            // Need to check if calculate function exists before calling
            if (typeof calculate === 'function') {
                calculate();
            }
        }

        document.addEventListener('DOMContentLoaded', function() {
            // Helper function to safely typeset math formulas
            function safeTypeset(elements) {
                if (window.MathJax && window.MathJax.startup) {
                    MathJax.startup.promise.then(() => {
                        MathJax.typesetPromise(elements || []);
                    });
                }
            }

            const useSteelPlateCheckbox = document.getElementById('useSteelPlate');
            const craneSelect = document.getElementById('craneSelect');  

            const steelPlateInputDiv = document.getElementById('steelPlateInput');
            const loadDistributionGroup = document.getElementById('loadDistributionGroup');
            const steelYieldStrengthGroup = document.getElementById('steelYieldStrengthGroup');

            // Input Elements
            const inputs = {
                rigWeight: document.getElementById('rigWeight'),
                trackWidth: document.getElementById('trackWidth'),
                trackLength: document.getElementById('trackLength'),
                loadDistribution: document.getElementById('loadDistribution'),
                soilCapacity: document.getElementById('soilCapacity'),
                factorOfSafety: document.getElementById('factorOfSafety'),
                loadFactor: document.getElementById('loadFactor'),
                steelYieldStrength: document.getElementById('steelYieldStrength'),
                plateLength: document.getElementById('plateLength'),
                plateWidth: document.getElementById('plateWidth'),
                plateThickness: document.getElementById('plateThickness'),
            };

            // Result Elements
            const resultDiv = document.getElementById('result');
            const placeholderDiv = document.getElementById('placeholder');
            const statusDiv = document.getElementById('status');
            const statusDetailsUl = document.getElementById('status-details');
            const qDemandSpan = document.getElementById('qDemand');
            const qAllowableSpan = document.getElementById('qAllowable');
            const bendingStressSpan = document.getElementById('bendingStress');
            const bendingAllowableSpan = document.getElementById('bendingAllowable');
            const shearStressSpan = document.getElementById('shearStress');
            const shearAllowableSpan = document.getElementById('shearAllowable');
            const formulaContainer = document.getElementById('formula-container');
            
            const resultItems = {
                bending: document.getElementById('bendingResultItem'),
                bendingAllowable: document.getElementById('bendingAllowableResultItem'),
                shear: document.getElementById('shearResultItem'),
                shearAllowable: document.getElementById('shearAllowableResultItem')
            };

            function updateFormVisibility() {
                const isChecked = useSteelPlateCheckbox.checked;
                steelPlateInputDiv.classList.toggle('hidden', !isChecked);
                loadDistributionGroup.classList.toggle('hidden', isChecked);
                steelYieldStrengthGroup.classList.toggle('hidden', !isChecked);

                inputs.plateLength.required = isChecked;
                inputs.plateWidth.required = isChecked;
                inputs.plateThickness.required = isChecked;
                inputs.steelYieldStrength.required = isChecked;
                inputs.loadDistribution.required = !isChecked;
            }

            function clearAllErrors() {
                document.querySelectorAll('.error-message').forEach(span => span.textContent = '');
                document.querySelectorAll('input.input-error').forEach(input => input.classList.remove('input-error'));
            }

            function validateInputs() {
                let isValid = true;
                clearAllErrors();

                function showError(input, message) {
                    let errorSpan = input.parentElement.nextElementSibling;
                    if (errorSpan && errorSpan.tagName === 'SMALL' && !errorSpan.classList.contains('error-message')) {
                        errorSpan = errorSpan.nextElementSibling;
                    }
                    
                    if (errorSpan && errorSpan.classList.contains('error-message')) {  
                        errorSpan.textContent = message;
                    } else if (input.parentElement.parentElement.querySelector('.error-message')) {
                        input.parentElement.parentElement.querySelector('.error-message').textContent = message;
                    }
                    input.classList.add('input-error');
                    isValid = false;
                }
                
                for (const key in inputs) {
                    const input = inputs[key];
                    if (input.required) {
                        if (input.value.trim() === '') {
                             showError(input, translations.errorRequired[currentLang]);
                        } else if (parseFloat(input.value) <= 0) {
                            showError(input, translations.errorGreaterThanZero[currentLang]);
                        }
                    }
                }

                if (useSteelPlateCheckbox.checked) {
                    const plateWidth = parseFloat(inputs.plateWidth.value);
                    const trackWidth = parseFloat(inputs.trackWidth.value);
                    if (plateWidth > 0 && trackWidth > 0 && plateWidth <= trackWidth) {
                        showError(inputs.plateWidth, translations.errorPlateWidth[currentLang]);
                    }
                }
                
                return isValid;
            }

            const cranePresets = {
                "bauer_bg_20_h": { weight: 56, width: 0.7, length: 4.5 },
                "kobelco_cks2500": { weight: 217, width: 1.22, length: 7.74 }
            };

            function updateCraneData() {
                const selectedCraneKey = craneSelect.value;
                if (selectedCraneKey === 'custom') {
                    inputs.rigWeight.readOnly = false;
                    inputs.trackWidth.readOnly = false;
                    inputs.trackLength.readOnly = false;
                    showAlert(translations.alertManualInput[currentLang]);
                } else {
                    const preset = cranePresets[selectedCraneKey];
                    if (preset) {
                        inputs.rigWeight.value = preset.weight;
                        inputs.trackWidth.value = preset.width;
                        inputs.trackLength.value = preset.length;
                        inputs.rigWeight.readOnly = true;
                        inputs.trackWidth.readOnly = true;
                        inputs.trackLength.readOnly = true;
                    }
                }
                clearAllErrors();
            }

            // Make calculate function global so switchLang can call it
            window.calculate = function() {
                if (!validateInputs()) {
                    resultDiv.classList.add('hidden');
                    placeholderDiv.classList.remove('hidden');
                    return;
                }

                const checkAndClamp = (inputElement, min, max, nameId, nameEn) => {
                    let value = parseFloat(inputElement.value);
                    if (isNaN(value)) return;  

                    if (value < min || value > max) {
                        inputElement.value = max;
                        const name = currentLang === 'id' ? nameId : nameEn; // Get correct lang name
                        showAlert(
                            `${name} ${translations.alertOutOfRange[currentLang]} ${max} m.`
                        );
                    }
                };

                // Pass translation keys for names
                checkAndClamp(inputs.trackLength, 0.1, 10, translations.paramTrackLength['id'], translations.paramTrackLength['en']);
                checkAndClamp(inputs.trackWidth, 0.1, 1.5, translations.paramTrackWidth['id'], translations.paramTrackWidth['en']);

                const values = {};
                for (const key in inputs) {
                    values[key] = parseFloat(inputs[key].value) || 0;
                }
                const g = 9.81;  

                let qDemand, qAllowable, bendingStress, bendingAllowable, shearStress, shearAllowable;
                let isSoilSafe, isBendingSafe, isShearSafe;
                let formulas = '';
                
                const isUsingPlate = useSteelPlateCheckbox.checked;

                const W_kN = values.rigWeight * g;  
                qAllowable = values.soilCapacity / values.factorOfSafety;

                if (isUsingPlate) {
                    const L_plate = values.plateLength;
                    const b_plate = values.plateWidth;
                    const t_plate_m = values.plateThickness / 1000;  

                    const contactAreaPlate = 2 * L_plate * b_plate;
                    qDemand = (values.loadFactor * W_kN) / contactAreaPlate;  
                    isSoilSafe = qDemand <= qAllowable;
                    formulas += `\\(q_{\\text{demand}} = \\frac{${values.loadFactor} \\times ${values.rigWeight.toFixed(1)} \\times ${g.toFixed(2)}}{2 \\times ${L_plate.toFixed(2)} \\times ${b_plate.toFixed(2)}} = ${qDemand.toFixed(2)}\\text{ kPa}\\)<br>`;
                    
                    const cantileverLength = (b_plate - values.trackWidth) / 2;
                    const c_calc = Math.max(0, cantileverLength);
                    bendingStress = (3 * qDemand * Math.pow(c_calc, 2)) / Math.pow(t_plate_m, 2) / 1000;  
                    bendingAllowable = 0.75 * values.steelYieldStrength;  
                    isBendingSafe = bendingStress <= bendingAllowable;
                    formulas += `\\(c = \\frac{${b_plate.toFixed(2)} - ${values.trackWidth.toFixed(2)}}{2} = ${cantileverLength.toFixed(2)}\\text{ m}\\)<br>`;
                    formulas += `\\(\\sigma_{\\text{bending}} = \\frac{3 \\times ${qDemand.toFixed(2)} \\times ${c_calc.toFixed(2)}^2}{(${values.plateThickness}/1000)^2} = ${bendingStress.toFixed(2)}\\text{ MPa}\\)<br>`;
                    
                    const netPunchingForce = (values.loadFactor * W_kN / 2) - (qDemand * values.trackWidth * values.trackLength);  
                    const shearPerimeter = 2 * (values.trackLength + values.trackWidth);
                    shearStress = (netPunchingForce > 0) ? (netPunchingForce / (shearPerimeter * t_plate_m) / 1000) : 0;  
                    shearAllowable = 0.40 * values.steelYieldStrength;  
                    isShearSafe = shearStress <= shearAllowable;
                    formulas += `\\(V_{\\text{net}} = (\\frac{${values.loadFactor} \\times ${W_kN.toFixed(1)}}{2}) - (${qDemand.toFixed(2)} \\times ${values.trackWidth.toFixed(2)} \\times ${values.trackLength.toFixed(2)}) = ${netPunchingForce.toFixed(2)}\\text{ kN}\\)<br>`;
                    formulas += `\\(\\tau_{\\text{punch}} = \\frac{V_{\\text{net}}}{Perim \\times t_p} = ${shearStress.toFixed(2)}\\text{ MPa}\\)`;
                } else {
                    const contactAreaTrack = 2 * values.trackLength * values.trackWidth;
                    qDemand = (values.loadFactor * W_kN) / (contactAreaTrack * values.loadDistribution);  
                    isSoilSafe = qDemand <= qAllowable;
                     formulas += `\\(q_{\\text{demand}} = \\frac{${values.loadFactor} \\times ${values.rigWeight.toFixed(1)} \\times ${g.toFixed(2)}}{2 \\times ${values.trackLength.toFixed(2)} \\times ${values.trackWidth.toFixed(2)} \\times ${values.loadDistribution.toFixed(1)}} = ${qDemand.toFixed(2)}\\text{ kPa}\\)`;
                }

                displayResults({
                    qDemand, qAllowable, bendingStress, bendingAllowable, shearStress, shearAllowable,
                    isSoilSafe, isBendingSafe, isShearSafe, isUsingPlate, formulas
                });
            }

            function displayResults(data) {
                resultDiv.classList.remove('hidden');
                placeholderDiv.classList.add('hidden');

                qDemandSpan.textContent = `${data.qDemand.toFixed(2)} kPa`;
                qAllowableSpan.textContent = `${data.qAllowable.toFixed(2)} kPa`;
                
                statusDetailsUl.innerHTML = '';  

                function addStatusDetail(checkNameKey, isSafe, value, allowable) {
                    const li = document.createElement('li');
                    const name = translations[checkNameKey][currentLang];
                    const statusClass = isSafe ? 'status-detail-safe' : 'status-detail-unsafe';
                    const statusText = isSafe ? translations.statusSafe[currentLang] : translations.statusNotSafe[currentLang];
                    
                    let displayValue = (value < 0.01 && value > 0) ? value.toExponential(2) : value.toFixed(2);
                    let displayAllowable = (allowable < 0.01 && allowable > 0) ? allowable.toExponential(2) : allowable.toFixed(2);

                    li.innerHTML = `
                        <span>
                            ${name}
                        </span>
                        <span class="${statusClass}">
                             ${displayValue} &le; ${displayAllowable} (${statusText})
                        </span>`;
                    statusDetailsUl.appendChild(li);
                }

                // Pass translation keys to the status detail function
                addStatusDetail('statusCheckSoil', data.isSoilSafe, data.qDemand, data.qAllowable);

                if (data.isUsingPlate) {
                    resultItems.bending.classList.remove('hidden');
                    resultItems.bendingAllowable.classList.remove('hidden');
                    resultItems.shear.classList.remove('hidden');
                    resultItems.shearAllowable.classList.remove('hidden');

                    bendingStressSpan.textContent = `${data.bendingStress.toFixed(2)} MPa`;
                    bendingAllowableSpan.textContent = `${data.bendingAllowable.toFixed(2)} MPa`;
                    shearStressSpan.textContent = `${data.shearStress.toFixed(2)} MPa`;
                    shearAllowableSpan.textContent = `${data.shearAllowable.toFixed(2)} MPa`;
                    
                    addStatusDetail('statusCheckBending', data.isBendingSafe, data.bendingStress, data.bendingAllowable);
                    addStatusDetail('statusCheckShear', data.isShearSafe, data.shearStress, data.shearAllowable);

                } else {
                    resultItems.bending.classList.add('hidden');
                    resultItems.bendingAllowable.classList.add('hidden');
                    resultItems.shear.classList.add('hidden');
                    resultItems.shearAllowable.classList.add('hidden');
                }

                const isOverallSafe = data.isUsingPlate ? (data.isSoilSafe && data.isBendingSafe && data.isShearSafe) : data.isSoilSafe;

                statusDiv.className = 'status';  
                if (isOverallSafe) {
                    statusDiv.classList.add('status-safe');
                    statusDiv.innerHTML = translations.statusSafe[currentLang]; // Translated
                } else {
                    statusDiv.classList.add('status-unsafe');
                    statusDiv.innerHTML = translations.statusNotSafe[currentLang]; // Translated
                }
                
                formulaContainer.innerHTML = data.formulas;
                safeTypeset([formulaContainer]);
            }

            // --- Event Listeners ---
            Object.values(inputs).forEach(inputElement => {
                inputElement.addEventListener('input', calculate);
            });

            const cbrValueInput = document.getElementById('cbrValue');
            const cbrInfo = document.getElementById('cbrInfo');

            // Listener 1: Update soilCapacity from CBR input
            cbrValueInput.addEventListener('input', () => {
                const cbr = parseFloat(cbrValueInput.value);
                let estimatedCapacity = 0;
                
                if (cbr > 0) {
                    if (cbr <= 5) {
                        // IRC 37:2018 formula for CBR <= 5%
                        estimatedCapacity = 10 * cbr;
                        cbrInfo.textContent = `${translations.cbrEstimateLTE5[currentLang]} 10 √ó ${cbr} = ${estimatedCapacity.toFixed(2)} kPa`;
                    } else {
                        // IRC 37:2018 (Powell et al.) formula for CBR > 5%
                        estimatedCapacity = 17.6 * Math.pow(cbr, 0.64);
                        cbrInfo.textContent = `${translations.cbrEstimateGT5[currentLang]} 17.6 √ó (${cbr}^0.64) = ${estimatedCapacity.toFixed(2)} kPa`;
                    }
                    
                    inputs.soilCapacity.value = estimatedCapacity.toFixed(2);
                    
                    inputs.soilCapacity.dispatchEvent(new Event('input', { bubbles: true }));
                } else {
                    cbrInfo.textContent = translations.cbrEstimateDefault[currentLang];
                }
            });

            // Listener 2: Clear CBR if soilCapacity is manually changed
            inputs.soilCapacity.addEventListener('input', () => {
                const cbr = parseFloat(cbrValueInput.value);
                if (cbr > 0) {
                    let estimatedCapacity;
                    if (cbr <= 5) {
                        estimatedCapacity = 10 * cbr;
                    } else {
                        estimatedCapacity = 17.6 * Math.pow(cbr, 0.64);
                    }
                    
                    if (Math.abs(parseFloat(inputs.soilCapacity.value) - estimatedCapacity) > 0.01) {
                        cbrValueInput.value = '';  
                        cbrInfo.textContent = translations.cbrEstimateDefault[currentLang];
                    }
                }
            });

            // Checkbox listener
            useSteelPlateCheckbox.addEventListener('change', () => {
                updateFormVisibility();
                calculate();
            });

            // Select listener
            craneSelect.addEventListener('change', () => {
                updateCraneData();
                calculate();
            });
            
            // Initialization
            updateFormVisibility();
            updateCraneData();  
            
            // Apply default language translations on load
            applyTranslations();
            
            // Trigger CBR input event on load to populate soilCapacity
            // We defer this 0ms to prevent "forced reflow" on initial render
            setTimeout(() => {
                cbrValueInput.dispatchEvent(new Event('input', { bubbles: true }));
            }, 0);
            
        });
    </script>
</body>
</html>

